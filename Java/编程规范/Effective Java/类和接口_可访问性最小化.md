# 使类和成员的可访问性最小化

### 信息隐藏

评定组件设计合理性的重要指标：**组件是否有效的对外屏蔽了内部数据和实现细节**。设计良好的组件能够隐藏所有的实现细节，将 API 与其实现清晰的隔离开，组件与组件之间仅通过 API 进行通信。

组件对外屏蔽内部细节的行为通常被称为`信息隐藏`（information hiding）或`封装`（encapsulated）。

信息隐藏最终目的是降低组成系统的各个组件间的<u>耦合程度</u>。信息隐藏并不能为系统带来更好的性能，但可以辅助系统更容易的调节性能：即使系统已经完成，只要能够通过分析找到影响系统性能的组件，就可以在不影响系统其他组件的情况下对问题组件进行优化。

### 可访问性

Java 实体的可访问性是由**实体的声明位置**和声明实体时所设置的**访问修饰符**共同决定的。

<font color = blue>各修饰符及其可访问性</font>：

| 修饰符                             | 类内部 | 包内部 | 子类 | 任何地方 |
| ---------------------------------- | ------ | ------ | ---- | -------- |
| <font color = red>private</font>   | YES    |        |      |          |
| <font color = red>default</font>   | YES    | YES    |      |          |
| <font color = red>protected</font> | YES    | YES    | YES  |          |
| <font color = red>public</font>    | YES    | YES    | YES  | YES      |

### 总结

1. 尽可能地使类或成员不能被外部访问，换而言之，为类或成员设置尽可能小的访问级别。
2. 如果把类或成员设置为共有的，你就有责任永远支持它。
3. 子类的访问级别 >= 超类的访问级别，这是为了满足里氏替换原则。
4. 公有类的实例域绝不能是共有的，包含共有实例域的类通常不是线程安全的。

