# 会话跟踪

---

## 会话

用户打开浏览器，访问某一个web站点，点击若干超链接，访问一些web资源，然后关闭浏览器，这一完整过程就称为会话。

## 会话跟踪

HTTP是一种**无状态协议**，服务端不保留与客户端“沟通”时的任何状态，这种设计减轻了服务器的记忆负担，使服务器能够保持较快的响应速度。

会话是客户端与服务器之间一次完整的交流过程，在此期间，客户端可能向服务器发送多次http请求。下图演示的是在购物网站完成一次购物可能的会话过程（部分）：

```sequence
participant 客户端
participant 服务器

客户端->服务器: 登陆请求(账号、密码)
服务器-->客户端: 登陆成功
客户端->服务器: 购物车添加(商品1ID)
服务器-->客户端: 添加成功
客户端->服务器: 购物车添加(商品2ID)
服务器-->客户端: 添加成功
客户端->服务器: 支付请求
服务器-->客户端: 收款二维码
服务器-->客户端: 支付结果
```

上述会话过程中存在的一些问题是：**服务器怎样才能知道商品应该添加到哪个用户的购物车？服务器怎样才能知道是哪个用户发起了支付请求？**

会话跟踪是一种在客户端和服务器之间保持http状态的解决方案，用于管理客户端与服务器之间会话过程中产生的会话数据。从技术角度考虑，会话跟踪想要实现的是在同一个会话的多次请求间共享数据。目前常见的会话跟踪技术有：Cookie、Session、URL重写、隐藏表单域。



